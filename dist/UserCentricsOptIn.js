!function(i,o){"use strict";function s(e,n){if(i.usercentrics){var t=this;i.usercentrics.isInitialized?e(t):i.usercentrics.onViewInit=function(){e(t)},this.hasConsent=function(){for(var t in n)try{var e=i.usercentrics.getConsents(n[t]);if(!e||!e.hasOwnProperty("consentStatus")||!0!==e.consentStatus)return!1}catch(e){return console.error("UserCentricsOptIn->UserCentricsHandler: "+e.message+" (on service "+t+"). Maybe have a look at 'usercentrics.consentTemplates' to get the templateID."),!1}return!0},this.setConsent=function(){for(var e in n){i.usercentrics.getConsents(n[e]);i.usercentrics.updateConsents([{templateId:n[e],status:!0}])}}}else console.error("UserCentricsOptIn: You have to include usercentrics in the head-section of the page to run with UserCentricsOptIn-Extension of the pb_social extension.")}function r(e,t,n){var i=this;function s(e){e.preventDefault(),"function"==typeof n&&n(),i.destroy()}e=e||o.querySelector("body"),this.destroy=function(){e.removeChild(i.background),e.removeChild(i.container)},this.background=o.createElement("DIV"),this.background.setAttribute("class","ucoi__layer__background"),this.background.addEventListener("click",s,!1),this.container=o.createElement("DIV"),this.container.setAttribute("class","ucoi__layer__container"),this.title=o.createElement("DIV"),this.title.setAttribute("class","ucoi__layer__title"),this.title.innerText="Zustimmung erforderlich",this.info=o.createElement("DIV"),this.info.setAttribute("class","ucoi__layer__info"),this.info.innerText="Zum Anzeigen der externen Social-Media-Bilder ben√∂tigen wir Ihre Zustimmung. Beim Laden der Bilder wird Ihre IP-Adresse an die Social-Media-Plattform gesendet.",this.agree=o.createElement("button"),this.agree.setAttribute("class","ucoi__layer__agree"),this.agree.innerText="OK",this.agree.addEventListener("click",function(e){e.preventDefault(),"function"==typeof t&&t(),i.destroy()},!1),this.disagree=o.createElement("a"),this.disagree.setAttribute("class","ucoi__layer__disagree"),this.disagree.setAttribute("href","{}"),this.disagree.innerText="abbrechen",this.disagree.addEventListener("click",s,!1),this.container.appendChild(this.title),this.container.appendChild(this.info),this.container.appendChild(this.agree),this.container.appendChild(this.disagree),e.appendChild(this.background),e.appendChild(this.container)}function a(){var s=o.querySelectorAll("[data-uc-background-image]");function r(e){e.preventDefault()}function a(e){for(var t=!1,n=e.parentNode;!1===t;){if("A"===n.tagName)return t=!0,n;n=n.parentNode}}this.hasImages=function(){return 0<s.length},this.initButtons=function(e){t(e)};var t=function(t){for(var e=0;e<s.length;e++){s[e].classList.add("ucoi__imagebutton__button-parent");var n=o.createElement("DIV");n.setAttribute("class","ucoi__imagebutton__button"),n.setAttribute("title","Bilder aktivieren"),n.innerHTML='<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 290 290"><rect class="svg__background" width="290" height="290"/><path class="svg__image" d="M36.1,127.0536V264.206H253.9V127.0536ZM247.7357,258.0418h-4.1194l-45.0654-48.5427L163.1432,247.64,109.171,182.5309,46.5741,258.0418h-4.31V133.2177H247.7357Z"/><circle class="svg__check__circle" cx="144.8636" cy="128.8825" r="56.9464"/><polygon class="svg__check__checkmark" points="104.368 130.69 116.662 120.566 131.847 135.752 173.066 96.703 185.359 108.996 134.017 161.062 104.368 130.69"/><text class="svg__text" x="50%" y="98%" dominant-baseline="bottom" text-anchor="middle">Klicken zum Aktivieren</text></svg>',n.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),"function"==typeof t&&t()},!1),s[e].appendChild(n),s[e].optInButton=n;var i=a(s[e]);i&&i.addEventListener("click",r,!1)}};this.showOriginalImages=function(){e()};var e=function(){for(var e=0;e<s.length;e++){s[e].optInButton&&s[e].removeChild(s[e].optInButton);var t=s[e].getAttribute("data-uc-background-image");t&&(s[e].style.backgroundImage="url("+t+")");var n=a(s[e]);n&&n.removeEventListener("click",r,!1)}}}function e(e){var t=e.container,n=new a;n.hasImages()&&new s(function(e){e.hasConsent()?(console.log("UC hasConsent"),n.showOriginalImages()):(n.initButtons(function(){new r(t,function(){e.setConsent(),n.showOriginalImages()})}),new r(t,function(){e.setConsent(),n.showOriginalImages()}))},e.templateIDs)}"function"==typeof define&&define.amd?define(function(){return e}):i.UserCentricsOptIn=e}(window,document);